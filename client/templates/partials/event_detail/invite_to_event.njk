{%import "partials/form_messages.njk" as messages %}
{%macro invite_form(path, canInvite, multiple=true, success_message="Invite Sent!")%}
<div data-controller="invite-to" data-invite-to-path="{{path}}" data-invite-to-multiple="{{multiple}}" data-invite-to-success-message="{{success_message}}">

	{%if(canInvite)%}
		<div class="mt-2 flex items-center p-2 border border-gray-300 lg:w-2/3" data-target="invite-to.canInviteButton">
			<button
				class="btn btn-green"
				data-action="invite-to#toggleInviteForm"
				>
				Invite Someone 
			</button>
				{%if caller %}
					{{caller()}}
				{%endif%}
		</div>

	{%endif%}

	<form
		class="hidden mt-4 bg-gray-100  border border-gray-400 p-4"
		data-target="invite-to.inviteForm"
		data-action="invite-to#sendInvite reset->invite-to#toggleInviteForm input->invite-to#inviteChange"
		>
		<div class="my-2">
			{{messages.messages("invite", 4000)}}
		</div>
		<div class="flex flex-col">
			<label class="font-bold" for="name">
				Name of person to invite
				<span class="font-normal text-xs">(Optional)</span>
			</label>
			<input id="name" type="text" name="name" class="input" placeholder="Name" />
		</div>
		<div class="mt-2 flex flex-col">
			<label class="font-bold" for="email">
				Email
			</label>
			<input
				id="email"
				type="text"
				name="email"
				class="input"
				placeholder="Email"
				/>
		</div>
		<div class="mt-2 flex flex-col">
			<label class="font-bold" for="phone">
				Phone
			</label>
			<input
				id="phone"
				type="text"
				name="phone"
				class="input"
				placeholder="Phone"
				/>
		</div>
		<p class="mt-1">
		<span class="font-bold">Email OR phone is required</span>
		</p>

		<div class="mt-2">
			<button class="btn btn-green" type="submit">
				Invite
			</button>
			<button class="btn btn-white" type="reset">
				Cancel
			</button>
		</div>
	</form>
</div>
{%endmacro%}
