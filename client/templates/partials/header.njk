{% from "./icons.njk" import icon %}

<header class="border-b border-green-400 ">
	<nav data-controller="menu-dropdown">

		<div class="whitespace-no-wrap flex items-center mx-auto py-2 container mx-auto">
			<a href="/" class="underline font-bold text-md  text-lg block" aria-label="Juniper City" style="max-height:50px" id="logo" data-turbolinks-permanent>
				<img src="{{imgPath}}/logo_small.png" alt="Juniper City Logo" class="object-contain block" width="150" height="28"/>
			</a>
			{%if not loggedIn %}
				{%set thePath = __currentPath() if __currentPath else '' %}
				<a href="/login?redirect_to={{thePath | urlencode}}" class="text-lg underline ml-auto">Login / Signup</a>
				{%endif%}
		</div>
		{%if loggedIn %}
			<div class="bg-green-100 border-t border-green-400">
				<ul class="items-center flex container p-0 mx-auto" data-target="menu-dropdown.menu">

				<li class="flex-1">
					<a href="/" class="text-xs sm:text-sm hover:bg-green-400 block p-2 text-center ">

						<span class="flex flex-col justify-center"><span class="text-xl sm:text-sm">{{icon('home')}}</span>Home</span>
					</a>
				</li>
				<li class="flex-1">
					<a href="/create" class="text-xs sm:text-sm hover:bg-green-400 block p-2 text-center ">

						<span class="flex flex-col"><span class="text-xl sm:text-sm">{{icon("plus")}}</span>Create Event</span>
					</a>
				</li>
				<li class="flex-1">
					<a href="/groups" class="text-xs sm:text-sm hover:bg-green-400 block p-2 border-green-400 text-center ">
						<span class="p-0 flex flex-col justify-center"><span class="text-xl sm:text-sm">{{icon("group", "icon-fill")}}</span>My Groups</span></a>
				</li>
				<li class="flex-1">
					<a href="/settings" class="text-xs sm:text-sm hover:bg-green-400 block p-2 text-center">
						<span class="p-0 flex flex-col"><span class="text-xl sm:text-sm">{{icon("settings", "icon-fill")}}</span>My Settings</span></a>
				</li>
				<li class="flex-1">
					<button
						data-controller="logout"
						data-action="logout#logout"
						class="text-xs sm:text-sm hover:bg-green-400 block p-2 block w-full text-center"
						>
						<span class="p-0 flex flex-col"><span class="text-xl sm:text-sm">{{icon("signout")}}</span>Logout</span>
					</button>
				</li>

				</ul>
			</div>

			{%endif%}
		
	</nav>
</header>
